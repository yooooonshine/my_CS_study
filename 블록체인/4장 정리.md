* 비트코인은 p2p 기반이다.
	* 즉 들어가고 나갈 때 승인을 받을 필요없다.
	* TCP를 사용한다.
	* 계급없이 peer끼리 소통한다.
* 각 노드의 행동
	* 1. 한 노드가 자신이 원하는 트랙잭션을 주위 peer에게 뿌린다.
	* 2. 이를 받은 노드들은 유효성을 판단한다.
		* 트랜잭션의 타당성을 판단한다.
		* 트랜잭션이 UTXO인지(즉 STXO가 아닌지) 확인한다.
		* 이미 한번 받아들인 트랜잭션인지 판단한다.
		* 트랜잭션의 script가 받아들일 수 있는 지 판단한다. 즉 네트워크에서 허용되는 스크립트인지 판단한다.
	* 3. 유효하다면 이를 pool(자신의 저장소)에 넣는다. 이 pool에는 아직 블록체인에 포함되지 않은 transaction이 들어가 있다.
* race condition
	* 경우에 따라서는 체인이 둘로 갈라질 수 있다.
		* A가 같은 코인에 대해 두가지 transaction을 동시 전파
		* A,B가 같은 코인 동시채
	* 가장 긴 체인 규칙(Greatest Cumulative Proof of Work)
		* 즉 두 체인 중에서 결국 대세가 존재하고 대세를 따른다.
* ![[Pasted image 20231021190217.png]]
* HEADER
	* 헤더는 메타데이터이다.
	* 즉 블럭에 대한 설명과 이전 블럭에 대한 해쉬포인터를 가지고 있다.
* Timestamp
	* 블록이 만들어진 시간.
* Nonce
	* 채굴자가 임의로 계산하기 위해 넣은 값
* Difficulty
	* 채굴의 난이도
	* 과거 2016블럭을 보며 조절한다.
* merkle root
	* 해당 블록에 포함된 모든 트랜잭션의 데이터를 요약한 값입니다.
