* ## DB 설계 단계
	* 1. 요구분석: 데이터베이스에 넣을 것
	* 2. 개념적 데이터베이스 설계: er다이어그램 작성(저장될 데이터와 이 데이터가 준수해야하는 제약조건들을 기술)
	* 3. 논리적 데이터베이스 설계: er 다이어그램을 관계 데이터 베이스 스키마로 변환
	* 4. 스키마 정제
	* 5.물리적 데이터베이스 설계
	* 6.응용 및 보안설계
---

* ## ER모델
	* ### entity(개체), attribute, entity-set(개체 집합)
		* entity: 
			* 다른 객체로부터 구별할 수 있는 객체(즉 사람 하나 하나)
			
		* entity-set: 
			* 이러한 같은 attribute들을 가지고 있는 개체 집합을 entity-set이라고 한다.
			
		* key: 
			* 다른 행들과 구분할 수 있는 속성의 집합
			* 즉 행들을 구분만 할 수 있다면 모두 키가 될 수있다.
			* 키에는 기본키, 후보키, 대체키, 슈퍼키가 있다.
				* candidate key(후보키): 
					* 후보키는 기본 키가 될 수 있는 키들의 집합이다.
					* 즉 유일성과 최소성을 만족해야한다.
					* \# 최소성이란, 예를 들어 학번이라는 속성 하나로 슈퍼키가 될 수 있고, 이름과 나이속성을 합쳐 슈퍼키를 만들 수 있다면, 첫번째는 속성 한 개로, 슈퍼키가 될 수 있고, 두번 째는 속성 두개를 합쳐야 슈퍼키가 되므로, 두번쨰는 최소성을 달성하지 못해 후보키가 될 수 없다.
				* primary key(기본키): 
					* candidate key중 하나를 지정해 primary key라 한다.
					* 이 또한 유일성과 최소성을 만족해야 한다.
					* null 이면 안된다.
					* unique 해야한다.
				* alternate key(대체키):
					* 기본키를 제외한 후보키
				* super key(슈퍼키): 
					* 유일성을 만족하는 키(즉 여러 속성으로 구성된 키),  
					* 유일성만 만족하면 슈퍼키가 될 수 있다. 
					* \# 예로 name은 키가 아니지만 sid는 키라서 {sid, name}는 슈퍼키가 될 수 있다.
					* \# 모든 필드들의 집합은 당연히 슈퍼키이다.
					* \# 만약 키가 존재하지 않는 릴레이션은 모든 필드집합이 키가 된다.
				* foreign key(외래 키): 
					* 다른 릴레이션에서 기본키로 사용되는 속성을 사용해 두 테이블을 연결하는 것이다.
					* sql에서  relation set은 모두 외래 키를 이용하여 표현한다.
					* 외래키가 될 수 있는 값들은 unique 해야한다.
					* dangling 현상이 없어야 한다.(즉 기본 키에 있지 않는 값을 가리키면 안된다.)


	* ### relationship(관계)와 relationship-set(관계 집합)
		* relationship(관계): 둘 이상의 개체들 사이의 관련성
			* 기술적인 에트리뷰트(Descriptive Attribute): 관계도 attribute를 가질 수 있고, 이 attribute를 기술적인 에트리뷰트라 한다.
		* relationship-set(관계집합)
			* 이는 같은 종류의 관계들을 모아 하나의 세트로 만든 것.
			* er 모델에서 마름모로 표현된다.
		* 관계의 형태
			* ![[Pasted image 20231014204713.png]]
			* er모델에서 관계의 형태를 표현하기 위해 화살표를 사용하며
			* 두 entity-set에서 모두 마름모를 향해 화살표가 있으면 1대1관계
			* 한 entiy-set에서만 마름모를 향해 화살표가 있으면 일대다 관계이다.
		
		* \# 관계집합은 기술적인 에트리뷰트와 무관하게 참가하는 개체들에 의하여 유일하게 식별되어야한다. 예로 왼쪽 instructor의 id와 student의 id의 조합에 의하여 유일하게 식별된다.
		* \# 삼진(ternary) 관계는 한 relation에 3개의 entity set이 붙은 것이다.
		* \# 한 relation에 동일한 entity-set에 속하는 두 개체를 포함할 수 있다.
	* ### ER모델의 특별 기능
		* key constraints(키 제약 조건): 
			* 키 제약 조건은 Key로 지정된 Attribute의 중복 값을 불허하는 것.
			* E-R Diagram에서 키 제약 조건은 화살표를 사용한다.
		* Participation Constraints(참여 제약조건):
			*  E-R Diagram 상에서, 굵은 실선은 Total Participation(완전 참여)을 의미하고, 얇은 실선은 Partial Participation(부분 참여)를 의미한다.
			* 완전 참여는 해당 개체집합에 속한 모든 개체가 관계를 맺고 있음을 의미한다.  
			- 부분 참여는 해당 개체집합의 개체 중 일부만 관계를 맺고 있음을 의미한다.
			* \# 예를 들어 모든 부서는 한명의 관리자가 있다하면, 부사당 관리자가 반드시 존재해야하므로 이는 전체적, 관리자 쪽 선을 굵은 선으로 표시
		* Weak Entity(약 개체)
			* 다른 개체와 관계되어야 존재할 수 있는, 불완전한 개체를 의미한다.
			*  약개체의 Key는 단독적인 Key로 인정되지 않으며, 이를 Partial Key(부분키)라 부르고, 약개체를 소유한 강개체의 Key와 함께 조합되어 사용된다.
			* 
				* 예로 피보험자의 이름은 동일할 수 있으니 보험등록자의 아이디와 결합
			* 조건:
				* 1. 식별관계집합(identifying relationship set): 소유자 개체집합과 약개체집합은 일대다 관계집합으로 참여해야 한다.
				* 2. 약개체집합은 식별 관계집합에 전체적으로 참여하여야 한다. (이때 마름모, 선, 약개체집합을 모두 굵은 선으로 표시한다)
			* ![[Pasted image 20231014205730.png]]
		* 상속
			* A개체의 모든 속성을 B개체와 C개체로 상속시키고 싶을때 isa관계를 사용한다.
			* 이때 A를 슈퍼클래스 B,C를 서브클래스라고 한다.
			* 특수화: 이때 A는 여러 서브클래스로 특수화(specialization)된다고 한다.
			* 일반화: B와 C가 A로 일반화 된다고 한다. 이 과정을 여러 개체집합들에서 몇 개의 공통된 속성을 찾았을때 사용.
			* \# 다만 이렇게 A개체를 B개체에 상속시키면 B와 연결된 모든 relationship등에도 상속되므로 신중한 고려가 필요.
			* #### 중첩제약 조건(overlap constraints): 
				* 기본적으로 A개체는 B와 C 모두가 될 수 없지만, 이 제약 조건을 붙여 가능하게 할 수 있다.
				* 이를 B overlaps C 라고한다.
			* #### 포괄 제약조건(covering constraints): 
				* 기본적으로 A에는 B와 C가 아닌 개체가 있다고 생각하지만 이를 붙이면 B와 C를 합치면 모든 A를 포함한다.
				* 이를 A AND B COVER C 라고 한다
			* 집단화: 관계집합을 하나의 개체집합으로 볼 수 있게 한다.
* \# ![[Pasted image 20231003203511.png]]
* \# 위와 같이 화살표가 가리키면 한  강사는 한 학생만 가리키니 한 학생의 강사는 여러명, 즉 many- to-one 관계이다.
* \# 화살표는 마름모 어느쪽에 둬도 무관하다. 그저 방향만 중요
* 