# 세션
기존의 쿠키는 정보가 노출되며, 클라이언트가 임의로 조작할 수 있었다.
이 문제점에 대한 해결책으로 세션방식이 존재한다.

서버에 정보를 저장하고, 클라이언트와 서버는 식별불가능한 임의의 식별자 값으로 연결하는 방식을 세션 방식이라고 한다.

좀 더 그림을 보면서 세션 방식이 어떻게 동작하는 지 살펴 보자.

![[Pasted image 20240326141029.png]]
우선 서버에는 세션 저장소라는 곳이 존재하여, sessionId와 그에 대한 객체 쌍으로 정보를 저장해둔다.

1. 클라이언트한테 요청이 온다. 
2. 서버는 쿠키를 만들면서, 세션 Id를 UUID와 같이 중복되지 않으면서, 식별할 수 없는 값을 하나 만들어, 그에 해당하는 쿠키 정보를 세션 저장소에 저장한다.
3. 서버는 세션 Id를 쿠키에 담아 리턴한다.
4. 클라이언트가 추후 요청이 오면 쿠키를 확인하여, 세션 Id를 얻고, 이를 통해 세션저장소에서 정보를 가져온다.

결론적으로 회원에 대한 정보는 쿠키에 저장되지 않고, 식별 불가능한 임의의 값만 쿠키에 저장되어, 보안적으로 안전해진다.

또한 세션 ID는 `0efj39rfeo3krw2=2eq-qw22mwjw`와 같이 형성되므로, 클라이언트 쪽이 세션 ID를 변경하여도, 변경된 값이 세션 저장소에 있을 확률이 극도로 낮기 때문에, 쉽게 정보를 빼낼 수 없다.(여기서 극도로 낮은 확률이란 로또에 10번 연속으로 당첨될 확률이라고 한다.)

또한 세션 저장소에 있는 특정 정보는 30분(변경 가능)마다 제거되어, 해커가 세션id를 알아냈다 하더라도, 금방 제거되어 안전하다.

